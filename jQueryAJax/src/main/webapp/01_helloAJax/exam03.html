<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- 외부 CSS 파일을 불러와서 스타일을 적용합니다 -->
<link rel="stylesheet" href="../css/common.css">
<link rel="stylesheet" href="../css/reset.css">
</head>
<body>
    <!-- 페이지 제목 -->
<h1 class="title">$.ajax() 함수를 사용한 텍스트 읽기</h1>

<div class="exec">
    <!-- 버튼을 클릭하면 텍스트 파일을 가져오는 작업을 수행합니다 -->
    <input type="button" value="txt파일 가져오기" id="mybtn" />
</div>

<!-- 서버에서 가져온 텍스트를 표시할 영역 -->
<div class="console" id="result"></div>

<!-- jQuery 라이브러리 로드 -->
<script type="text/javascript" src="http://code.jquery.com/jquery-3.7.1.min.js"></script>

<script type="text/javascript">
// 문서가 준비되면 실행되는 코드 블록입니다.
// 이 코드는 HTML 문서가 완전히 로드된 후에 실행됩니다.
$(function(){
    // id가 'mybtn'인 버튼이 클릭되었을 때 실행되는 함수입니다.
    $('#mybtn').click(function(){
        // AJAX 요청을 설정합니다.
        $.ajax({
            type: 'get',  // 요청 방식을 'GET'으로 설정합니다. 서버에서 데이터를 가져올 때 사용합니다.
            url: '../text/textdata.jsp',  // 데이터를 가져올 서버의 주소를 설정합니다.
            // data: 'keyword=Hello Ajax||', // 주석처리된 코드로, 서버에 전송할 데이터를 설정합니다. 'data'는 'keyword'라는 이름의 데이터를 'Hello Ajax!!'라는 값으로 설정합니다.
            data: {'keyword': 'Hello Ajax!!'}, // 서버로 보내는 데이터입니다. 이 예제에서는 'keyword'라는 이름으로 'Hello Ajax!!'라는 값을 전송합니다.
            dataType: 'text', // 서버로부터 받을 데이터의 형식을 'text'로 설정합니다. 즉, 텍스트 형식의 데이터를 받겠다는 의미입니다.
            success: function(data){
                // AJAX 요청이 성공적으로 완료되었을 때 호출되는 함수입니다.
                // 'data'는 서버에서 받은 데이터입니다.
                // 이 데이터를 페이지의 id가 'result'인 요소에 넣습니다.
                $('#result').html(data);
            },
            error: function(e){
                // AJAX 요청이 실패했을 때 호출되는 함수입니다.
                // 'e'는 오류 정보입니다.
                // 오류 메시지를 웹 브라우저의 콘솔에 출력합니다. 이 코드를 통해 오류를 확인할 수 있습니다.
                console.log(e); 
            }
        });
    });
});
</script>
</body>
</html>